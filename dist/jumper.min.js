Jumper=function(options){if(void 0===options&&console.error("QOX Jumper options not stablished."),void 0===options.debug?Jumper.Options.debug=!1:Jumper.Options.debug=options.debug,Jumper.Log("Initilizing QOX Jumper."),void 0!==options.bindFnKeys&&(Jumper.Options.bindFnKeys=options.bindFnKeys),void 0===options.bindLetter&&(options.bindLetter="J"),void 0!==options.cache&&(Jumper.Cache=options.cache),void 0!==options.data?Jumper.Options.data=options.data:void 0===options.ajax?console.error("QOX Jumper: No data source defined."):(Jumper.Options.ajax=!0,Jumper.Options.ajaxserver=options.ajaxserver),"undefined"==typeof jQuery)return void console.error("QOX Jumper requires jQuery.");if(void 0===$().selectize)return void console.error("QOX Jumper requires Selectize.js (https://github.com/brianreavis/selectize.js).");if("function"==typeof $().emulateTransitionEnd){if("undefined"==typeof BootstrapDialog)return void console.error("QOX Jumper for Bootstrap requires Bootstrap-Dialog (https://github.com/nakupanda/bootstrap3-dialog).");Jumper.Bootstrap3=!0}Jumper.Options.bindLetter=options.bindLetter.toLowerCase(),Jumper.Options.cacheAtInit=!0,$(window).bind("keydown",function(event){if(eval(Jumper.Options.bindFnKeys))switch(String.fromCharCode(event.which).toLowerCase()){case Jumper.Options.bindLetter:event.preventDefault(),Jumper.Open()}});var showKeys="CONTROL/COMMAND";Jumper.Options.bindFnKeys!=Jumper.KeysControl&&(showKeys=Jumper.Options.bindFnKeys),Jumper.Log("QOX Jumper: Initialized. (Open with: "+showKeys+" + "+Jumper.Options.bindLetter.toUpperCase()+")"),Jumper.Options.ajax&&Jumper.Cache&&Jumper.Options.cacheAtInit&&(Jumper.Log("QOX Jumper: PreCaching results @ Init..."),$.post(Jumper.Options.ajaxserver,{jumper_version:Jumper.VERSION},function(e){Jumper.Options.data=e.response,Jumper.InCache=!0,Jumper.Log("QOX Jumper: PreCaching results...DONE")},"json")),Jumper.Initialized=!0},Jumper.UpdateBSD=function(e){if(void 0===e||!e){var t='<input class="selectize-input items not-full has-options" id="jumper_text" style="width:100%" type="text" autocomplete="off" placeholder="'+Jumper.TEXT_QuickNav+'">';Jumper.BSD_Object.setMessage(t)}var o=$("#jumper_text");o.focus(),o.removeClass("selectize-input items not-full has-options");var n=o.selectize({persist:!1,maxItems:1,valueField:"name",labelField:"name",searchField:["name","help","keywords","navcode"],options:Jumper.Options.data,render:{item:function(e,t){return $("#jumper_text").attr("disabled","disabled"),e.action.useItemHandler&&Jumper.ItemHandler(e),void 0!==e.action.url&&null!=e.action.url&&e.action.url.length>0&&(window.location.href=e.action.url),void 0!==e.action.method&&null!=e.action.method&&e.action.method(e),setTimeout(function(){Jumper.BSD_Object.close()},250),'<div style="color: #000">'+t(Jumper.TEXT_Navigating)+"</span></div>"},option:function(e,t){var o=e.name,n=e.help;return'<div style="color: #000"><span style="font-width:bold;">'+t(o)+'</span><br><span class="text-muted">'+t(n)+"</span><br>"+(e.keywords?'<span style="color: #000;">'+Jumper.TEXT_Keywords+'</span>&nbsp;<span class="text-muted">'+t(e.keywords)+"</span>":"")+"</div>"}},load:function(e,t){if(!e.length)return t()}}),r=n[0].selectize;setTimeout(function(){r.focus()},50)},Jumper.Open=function(){if(Jumper.Initialized)if(Jumper.Bootstrap3){if(!Jumper.BSD_Open){Jumper.Log("Triggered!");var e={title:Jumper.TEXT_DefaultTitle,draggable:!1,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,onhide:function(){Jumper.BSD_Open=!1},onhidden:function(){Jumper.BSD_Open=!1},onshow:function(){Jumper.BSD_Open=!0,$(".modal-footer").remove()}};Jumper.Options.ajax&&!Jumper.InCache?(e.message='<div style="text-align: center;">\n                    <p>\n                    <i class="fa fa-refresh fa-spin"></i><br>\n                    '+Jumper.TEXT_Loading+"\n                    </p>\n                    </div>",e.onshown=function(){Jumper.Log("QOX Jumper: Getting data."),$.post(Jumper.Options.ajaxserver,{jumper_version:Jumper.VERSION},function(e){Jumper.Options.data=e.response,Jumper.Cache&&(Jumper.InCache=!0),Jumper.UpdateBSD(!1)},"json")}):(Jumper.Cache&&console.log("QOX Jumper: Using Cached data."),e.message='<input class="selectize-input items not-full has-options" style="width:100%" id="jumper_text" type="text" autocomplete="off" placeholder="'+Jumper.TEXT_QuickNav+'">',e.onshown=function(){Jumper.UpdateBSD(!0)}),Jumper.BSD_Object=BootstrapDialog.show(e)}}else console.error("Support for non-bootstrap sites in the future. Sorry.")},Jumper.Log=function(){Jumper.Options.debug&&console.log.apply(console,arguments)},Jumper.ItemHandler=function(e){Jumper.Log("Default Item Handler, Item:",e)},Jumper.VERSION="0.0.4",Jumper.Initialized=!1,Jumper.Bootstrap3=!1,Jumper.Options={bindFnKeys:"event.ctrlKey || event.metaKey",bindLetter:"J",data:null,ajax:!1,ajaxserver:"",cacheAtInit:!1,debug:!1},Jumper.BSD_Object=null,Jumper.Cache=!1,Jumper.InCache=!1,Jumper.TEXT_Loading="Loading data, please wait...",Jumper.TEXT_DefaultTitle="<b>Jumper</b>",Jumper.TEXT_QuickNav="Quick site navigation, type a term.",Jumper.TEXT_Navigating="Navigating...",Jumper.TEXT_Keywords="Keywords:",Jumper.BSD_Open=!1,Jumper.BSD_AjaxLoader={};
//# sourceMappingURL=jumper.min.js.map
